<mui:ModernDialog x:Class="AcManager.Pages.Dialogs.CarCreateTyresMachineDialog" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mui="http://firstfloorsoftware.com/ModernUI"
    xmlns:di="clr-namespace:AcManager.Pages.Dialogs" xmlns:sys="clr-namespace:System;assembly=mscorlib" mc:Ignorable="d" Title="Found tyres"
    SizeToContent="Manual" Width="920" Height="800" MinWidth="800" MinHeight="240" MaxWidth="{x:Static mui:DpiAwareWindow.UnlimitedSize}"
    MaxHeight="{x:Static mui:DpiAwareWindow.UnlimitedSize}" LocationAndSizeKey=".CarGenerateTyresDialog" ResizeMode="CanResizeWithGrip"
    d:DataContext="{d:DesignInstance di:CarCreateTyresMachineDialog+ViewModel}" x:Name="This" DoNotAttachToWaitingDialogs="True">
  <mui:ModernDialog.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <mui:SharedResourceDictionary Source="/AcManager.Controls;component/Assets/IconData.xaml" />
      </ResourceDictionary.MergedDictionaries>

    </ResourceDictionary>
  </mui:ModernDialog.Resources>

  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition MinWidth="200" Width="400" />
      <ColumnDefinition Width="9" />
      <ColumnDefinition />
    </Grid.ColumnDefinitions>

    <DockPanel Margin="0 0 8 0">
      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 8">
        <TextBlock Text="Target tyres filter:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:HistoricalTextBox Style="{StaticResource BetterComboBox.Borderless}" Placeholder="*"
            Text="{Binding TyresFilter, UpdateSourceTrigger=PropertyChanged}" SaveKey="CreateTyres.TyresFilter.History">
          <mui:HistoricalTextBox.DefaultItems>
            <sys:String>semislicks</sys:String>
            <sys:String>slicks</sys:String>
            <sys:String>street</sys:String>
          </mui:HistoricalTextBox.DefaultItems>
        </mui:HistoricalTextBox>
      </DockPanel>

      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 8">
        <TextBlock Text="Cars display filter:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:HistoricalTextBox Style="{StaticResource BetterComboBox.Borderless}" Placeholder="*"
            Text="{Binding CarsFilter, UpdateSourceTrigger=PropertyChanged}" SaveKey="CreateTyres.CarsFilter.History">
          <mui:HistoricalTextBox.DefaultItems>
            <sys:String>kunos+</sys:String>
          </mui:HistoricalTextBox.DefaultItems>
        </mui:HistoricalTextBox>
      </DockPanel>

      <ListBox x:Name="CarsListBox" ItemsSource="{Binding CarsView}" Style="{StaticResource VirtualizingListBox}"
          ItemContainerStyle="{StaticResource CheckBoxListBoxItem}" mui:ListBoxHelper.ProperMultiSelectionMode="True">
        <ListBox.ItemTemplate>
          <DataTemplate DataType="{x:Type di:CarCreateTyresMachineDialog+CarWithTyres}">
            <DockPanel>
              <mui:BetterImage Filename="{Binding Car.BrandBadge}" Margin="0 0 8 0" Width="16" Height="16" ClearOnChange="True" />
              <TextBlock Text="{Binding CheckedCount}" DockPanel.Dock="Right" ToolTip="{Binding DisplayChecked}"
                  Visibility="{Binding CheckedCount, Converter={StaticResource MoreToVisibilityConverter}}" />
              <TextBlock Text="{Binding Car.DisplayName}" />
            </DockPanel>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>
    </DockPanel>

    <mui:ModernTabSplitter Grid.Column="1" InitialWidth="400" SaveKey="CarCreateTyresMachineDialog" />

    <mui:SpacingStackPanel Grid.Column="2" Margin="8 0 0 0" Spacing="8">
      <Label Content="Options:" Margin="0 12 0 0" />

      <Label Content="Summary:" />

      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 0">
        <TextBlock Text="Total tyres selected:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:BetterTextBox Text="{Binding TotalTyresCount, Mode=OneWay}" Style="{StaticResource Borderless}" IsReadOnly="True" />
      </DockPanel>

      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 0">
        <TextBlock Text="Unique tyres selected:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:BetterTextBox Text="{Binding UniqueTyresCount, Mode=OneWay}" Style="{StaticResource Borderless}" IsReadOnly="True" />
      </DockPanel>

      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 0" Visibility="{Binding UniqueTyresCount, Converter={StaticResource MoreToVisibilityConverter}}">
        <TextBlock Text="Radius:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:BetterTextBox Text="{Binding Radius.DisplayValue, Mode=OneWay}" Style="{StaticResource Borderless}" IsReadOnly="True" />
      </DockPanel>

      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 0" Visibility="{Binding UniqueTyresCount, Converter={StaticResource MoreToVisibilityConverter}}">
        <TextBlock Text="Rim radius:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:BetterTextBox Text="{Binding RimRadius.DisplayValue, Mode=OneWay}" Style="{StaticResource Borderless}" IsReadOnly="True" />
      </DockPanel>

      <DockPanel DockPanel.Dock="Top" Margin="8 0 0 0" Visibility="{Binding UniqueTyresCount, Converter={StaticResource MoreToVisibilityConverter}}">
        <TextBlock Text="Width:" Width="120" DockPanel.Dock="Left" Style="{StaticResource Label}" />
        <mui:BetterTextBox Text="{Binding Width.DisplayValue, Mode=OneWay}" Style="{StaticResource Borderless}" IsReadOnly="True" />
      </DockPanel>

      <!--<ListBox ItemsSource="{Binding TyresView}" Style="{StaticResource VirtualizingListBox}" mui:Draggable.Enabled="True"
          ItemTemplate="{StaticResource TyresEntryDataTemplate}" />-->
    </mui:SpacingStackPanel>
  </Grid>
</mui:ModernDialog>